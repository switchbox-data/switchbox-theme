{
  "hash": "8095131c8319aafb5f9a64600231bd23",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Analysis\n---\n\n\n:::{#82fbaac8 .cell .markdown}\n\n# Setup\n\nFirst, load relevant libraries.\n\n:::\n\n::: {#fac9ae7d .cell execution_count=1}\n``` {}\nimport pandas as pd\nimport seaborn as sns\n```\n:::\n\n\n::: {#3615c0cf .cell execution_count=2}\n``` {}\nactual_money_spent = pd.read_csv(\"../data/solar_credits_by_fiscal_year_20240201.csv\").query(\"type == 'actual'\")\nactual_money_spent_post_2010 = actual_money_spent[actual_money_spent[\"fiscal_year\"] >= 2010]\n```\n:::\n\n\n::: {#fig-yearly-spending .cell execution_count=3}\n``` {}\n#| label: fig-yearly-spending\n#| fig-cap: 'Yearly tax expenditure, NY solar tax credit'\nax = sns.barplot(data=actual_money_spent_post_2010, x=\"fiscal_year\", y=\"solar_energy_equipment_system_credit\")\nsns.despine()\n\n# Format y axis values\nylabels = [f\"${int(x)}M\" for x in ax.get_yticks()/1e6]\nax.set_yticklabels(ylabels, fontsize=16)\n\n# Format x axis values\nxlabels = [f\"'{int(x) + 10}\" for x in ax.get_xticks()]\nax.set_xticklabels(xlabels, fontsize=16)\n\nax.set_xlabel(\"\")\nax.set_ylabel(\"\")\n\n# Add caption in small light gray text\nax.text(1, -0.2, \"Source: NYS Tax Expenditure Reports\", transform=ax.transAxes, ha='right', va='bottom', color='gray', fontsize=15)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n```\n/var/folders/f2/1mphkg0n2cq19fpvg35172pm0000gn/T/ipykernel_2286/3228202816.py:6: UserWarning: set_ticklabels() should only be used with a fixed number of ticks, i.e. after set_ticks() or using a FixedLocator.\n  ax.set_yticklabels(ylabels, fontsize=16)\n/var/folders/f2/1mphkg0n2cq19fpvg35172pm0000gn/T/ipykernel_2286/3228202816.py:10: UserWarning: set_ticklabels() should only be used with a fixed number of ticks, i.e. after set_ticks() or using a FixedLocator.\n  ax.set_xticklabels(xlabels, fontsize=16)\n```\n:::\n\n::: {#fig-yearly-spending-1 .cell-output .cell-output-display execution_count=6}\n```\nText(1, -0.2, 'Source: NYS Tax Expenditure Reports')\n```\n\nYearly tax expenditure, NY solar tax credit\n:::\n\n::: {.cell-output .cell-output-display}\n![](analysis_files/figure-html/fig-yearly-spending-output-3.png){#fig-yearly-spending-2 width=608 height=463}\n:::\n:::\n\n\n",
    "supporting": [
      "analysis_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}